<html>
<head>
	<script type="text/javascript" src="JSThread.js"></script>
	<script type="text/javascript" src="Serialization.js"></script>
</head>
<body>
	<div id="0" style="border: solid 1px black; height: 20px; overflow: hidden;"></div>

	<script>
	
	var MyRunnable = (function () {
	    function MyRunnable() {
	    	this.i = 0;
	    }
	    MyRunnable.prototype.run = function () {
	        if(this.i >= 40) {
	            return 0;
	        }
	        document.getElementById("0").innerHTML += "<div style='width: 20px; border: solid 1px black; display: inline-block;'>" + this.i + "</div>";
	        this.i++;
	    };
	    return MyRunnable;
	})();

	// create new Thread
	var mythread = new Thread(new MyRunnable());
	
	// serialize Thread
	var source = getSourceOfObject(mythread);
	
	// deserialize Thread
	var thread = eval(source);
	
	// start Thread
	thread.start();
	
	</script>
</body>
</html>